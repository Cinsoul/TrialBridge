import{j as e}from"./index-447909c0.js";import{f as t,r as a}from"./react-vendor-f13607dd.js";import{a as r}from"./authService-993db9ec.js";import{p as d}from"./patientService-6b05a51d.js";import{R as s,b as i,A as n,c as l,o,g as c,x,y as p,E as u,z as y,f as m,m as j}from"./antd-vendor-11d390a1.js";const{Title:g}=m,{TabPane:f}=o,h=()=>{const m=t(),h=r.getCurrentUser(),[v,k]=a.useState(!0),[R,I]=a.useState([]);a.useEffect((()=>{h&&"patient"===h.role||m("/patient/login")}),[h,m]),a.useEffect((()=>{(async()=>{if(null==h?void 0:h.email)try{const e=await d.getPatientHealthRecords(h.email);e.success&&I(e.records||[])}catch(e){}finally{k(!1)}})()}),[h]);const N=R.filter((e=>"vital"===e.type)),b=R.filter((e=>"lab"===e.type)),A=R.filter((e=>"medication"===e.type)),S=[{title:"Date",dataIndex:"date",key:"date"},{title:"Test Name",dataIndex:"data",key:"testName",render:e=>e.testName||"N/A"},{title:"Result",dataIndex:"data",key:"result",render:e=>e.result||"N/A"},{title:"Reference Range",dataIndex:"data",key:"referenceRange",render:e=>e.referenceRange||"N/A"},{title:"Status",dataIndex:"data",key:"status",render:t=>{if(!t.status)return e.jsx(j,{children:"N/A"});let a="green";return"abnormal"===t.status?a="orange":"critical"===t.status&&(a="red"),e.jsx(j,{color:a,children:t.status.toUpperCase()})}},{title:"Provider",dataIndex:"provider",key:"provider"}];return e.jsxs("div",{style:{padding:"24px"},children:[e.jsxs(s,{align:"middle",style:{marginBottom:"24px"},children:[e.jsx(i,{icon:e.jsx(n,{}),onClick:()=>{m("/patient/dashboard")},style:{marginRight:"16px"},children:"Back"}),e.jsx(g,{level:2,style:{margin:0},children:"My Health Data"})]}),v?e.jsx("div",{style:{textAlign:"center",padding:"50px"},children:e.jsx(l,{size:"large"})}):e.jsxs(o,{defaultActiveKey:"vitals",children:[e.jsx(f,{tab:e.jsxs("span",{children:[e.jsx(c,{})," Vital Signs"]}),children:N.length>0?e.jsx(x,{dataSource:N,columns:[{title:"Date",dataIndex:"date",key:"date"},{title:"Blood Pressure",dataIndex:"data",key:"bloodPressure",render:e=>e.bloodPressure||"N/A"},{title:"Heart Rate",dataIndex:"data",key:"heartRate",render:e=>e.heartRate?`${e.heartRate} bpm`:"N/A"},{title:"Temperature",dataIndex:"data",key:"temperature",render:e=>e.temperature?`${e.temperature} Â°F`:"N/A"},{title:"Respiratory Rate",dataIndex:"data",key:"respiratoryRate",render:e=>e.respiratoryRate?`${e.respiratoryRate} breaths/min`:"N/A"},{title:"Provider",dataIndex:"provider",key:"provider"}],rowKey:"id",pagination:!1}):e.jsx(p,{description:"No vital sign records found"})},"vitals"),e.jsx(f,{tab:e.jsxs("span",{children:[e.jsx(u,{})," Lab Results"]}),children:b.length>0?e.jsx(x,{dataSource:b,columns:S,rowKey:"id",pagination:!1}):e.jsx(p,{description:"No lab result records found"})},"labs"),e.jsx(f,{tab:e.jsxs("span",{children:[e.jsx(y,{})," Medications"]}),children:A.length>0?e.jsx(x,{dataSource:A,columns:[{title:"Date",dataIndex:"date",key:"date"},{title:"Medication",dataIndex:"data",key:"medication",render:e=>e.medication||"N/A"},{title:"Dosage",dataIndex:"data",key:"dosage",render:e=>e.dosage||"N/A"},{title:"Frequency",dataIndex:"data",key:"frequency",render:e=>e.frequency||"N/A"},{title:"Prescribed By",dataIndex:"provider",key:"provider"}],rowKey:"id",pagination:!1}):e.jsx(p,{description:"No medication records found"})},"medications")]})]})};export{h as default};
//# sourceMappingURL=HealthData-0ef705f7.js.map
