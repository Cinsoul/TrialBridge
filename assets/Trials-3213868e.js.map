{"version":3,"file":"Trials-3213868e.js","sources":["../../src/pages/public/Trials.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Typography, Card, Button, Row, Col, Input, Select, List, Tag, Space, Divider, Spin } from 'antd';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowLeftOutlined, SearchOutlined, ExperimentOutlined } from '@ant-design/icons';\nimport { trialService } from '../../services/trialService';\nimport type { Trial } from '../../services/trialService';\n\nconst { Title, Paragraph, Text } = Typography;\nconst { Search } = Input;\nconst { Option } = Select;\n\nconst Trials: React.FC = () => {\n  const navigate = useNavigate();\n  const [trials, setTrials] = useState<Trial[]>([]);\n  const [filteredTrials, setFilteredTrials] = useState<Trial[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n\n  // Fetch trials data\n  useEffect(() => {\n    const fetchTrials = async () => {\n      try {\n        const response = await trialService.getAllTrials();\n        if (response.success) {\n          setTrials(response.trials);\n          setFilteredTrials(response.trials);\n        }\n      } catch (error) {\n        console.error('Error fetching trials:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTrials();\n  }, []);\n\n  // Filter trials based on search term and status filter\n  useEffect(() => {\n    let filtered = [...trials];\n    \n    // Apply status filter\n    if (statusFilter !== 'all') {\n      filtered = filtered.filter(trial => trial.status === statusFilter);\n    }\n    \n    // Apply search term filter\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(trial => \n        trial.title.toLowerCase().includes(term) || \n        trial.description.toLowerCase().includes(term) ||\n        trial.location.toLowerCase().includes(term) ||\n        trial.sponsoredBy.toLowerCase().includes(term)\n      );\n    }\n    \n    setFilteredTrials(filtered);\n  }, [searchTerm, statusFilter, trials]);\n\n  const handleSearch = (value: string) => {\n    setSearchTerm(value);\n  };\n\n  const handleStatusFilterChange = (value: string) => {\n    setStatusFilter(value);\n  };\n\n  const handleViewTrialDetails = (trialId: string) => {\n    navigate(`/public/trials/${trialId}`);\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'recruiting':\n        return 'green';\n      case 'active':\n        return 'blue';\n      case 'completed':\n        return 'gray';\n      default:\n        return 'default';\n    }\n  };\n\n  return (\n    <div style={{ padding: '24px 50px' }}>\n      <Button \n        icon={<ArrowLeftOutlined />} \n        onClick={() => navigate('/')}\n        style={{ marginBottom: '24px' }}\n      >\n        Back to Home\n      </Button>\n\n      <Row justify=\"center\" style={{ marginBottom: 40 }}>\n        <Col xs={24} md={18} lg={16}>\n          <Title>Clinical Trials</Title>\n          <Paragraph style={{ fontSize: 16 }}>\n            Browse our database of clinical trials. You can search for specific conditions, locations, or keywords.\n          </Paragraph>\n        </Col>\n      </Row>\n\n      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>\n        <Col xs={24} md={16}>\n          <Search\n            placeholder=\"Search for trials by keyword, condition, or location\"\n            allowClear\n            enterButton={<SearchOutlined />}\n            size=\"large\"\n            onSearch={handleSearch}\n          />\n        </Col>\n        <Col xs={24} md={8}>\n          <Select\n            placeholder=\"Filter by status\"\n            style={{ width: '100%', height: '40px' }}\n            onChange={handleStatusFilterChange}\n            defaultValue=\"all\"\n          >\n            <Option value=\"all\">All Statuses</Option>\n            <Option value=\"recruiting\">Recruiting</Option>\n            <Option value=\"active\">Active, Not Recruiting</Option>\n            <Option value=\"completed\">Completed</Option>\n          </Select>\n        </Col>\n      </Row>\n\n      {loading ? (\n        <div style={{ textAlign: 'center', padding: '50px' }}>\n          <Spin size=\"large\" />\n        </div>\n      ) : (\n        <List\n          grid={{ gutter: 16, xs: 1, sm: 1, md: 2, lg: 2, xl: 3, xxl: 3 }}\n          dataSource={filteredTrials}\n          renderItem={trial => (\n            <List.Item>\n              <Card \n                hoverable \n                title={\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\n                    <ExperimentOutlined style={{ fontSize: 24, marginRight: 12, color: '#1890ff' }} />\n                    <span>{trial.title}</span>\n                  </div>\n                }\n                extra={<Tag color={getStatusColor(trial.status)}>{trial.status}</Tag>}\n              >\n                <Paragraph ellipsis={{ rows: 3 }}>\n                  {trial.description}\n                </Paragraph>\n                \n                <Space direction=\"vertical\" style={{ width: '100%' }}>\n                  <Space split={<Divider type=\"vertical\" />}>\n                    <Text type=\"secondary\">Location: {trial.location}</Text>\n                    <Text type=\"secondary\">Start: {trial.startDate}</Text>\n                  </Space>\n                  \n                  <Text type=\"secondary\">Sponsored by: {trial.sponsoredBy}</Text>\n                  \n                  <div style={{ marginTop: 16 }}>\n                    <Button \n                      type=\"primary\" \n                      onClick={() => handleViewTrialDetails(trial.id)}\n                    >\n                      View Details\n                    </Button>\n                  </div>\n                </Space>\n              </Card>\n            </List.Item>\n          )}\n          pagination={{\n            onChange: () => {\n              window.scrollTo(0, 0);\n            },\n            pageSize: 9,\n          }}\n        />\n      )}\n\n      {/* Footer */}\n      <footer style={{ textAlign: 'center', padding: '20px 0', borderTop: '1px solid #f0f0f0', marginTop: 40 }}>\n        <Space split={<Divider type=\"vertical\" />}>\n          <a onClick={() => navigate('/public/about')}>About Us</a>\n          <a onClick={() => navigate('/public/trials')}>Clinical Trials</a>\n          <a onClick={() => navigate('/public/resources')}>Resources</a>\n          <a onClick={() => navigate('/public/contact')}>Contact</a>\n        </Space>\n        <div style={{ marginTop: 20 }}>\n          <Typography.Text type=\"secondary\">Â© {new Date().getFullYear()} Trial Bridge. All rights reserved.</Typography.Text>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Trials;"],"names":["Title","Paragraph","Text","Typography","Search","Input","Option","Select","Trials","navigate","useNavigate","trials","setTrials","useState","filteredTrials","setFilteredTrials","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","useEffect","async","response","trialService","getAllTrials","success","error","filtered","filter","trial","status","term","toLowerCase","title","includes","description","location","sponsoredBy","getStatusColor","style","padding","children","jsxRuntimeExports","jsx","Button","icon","ArrowLeftOutlined","onClick","marginBottom","Row","justify","jsxs","Col","xs","md","lg","fontSize","gutter","placeholder","allowClear","enterButton","SearchOutlined","size","onSearch","value","width","height","onChange","defaultValue","textAlign","Spin","List","grid","sm","xl","xxl","dataSource","renderItem","Item","Card","hoverable","display","alignItems","ExperimentOutlined","marginRight","color","extra","Tag","ellipsis","rows","Space","direction","split","Divider","type","startDate","marginTop","handleViewTrialDetails","trialId","id","pagination","window","scrollTo","pageSize","borderTop","Date","getFullYear"],"mappings":"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"}